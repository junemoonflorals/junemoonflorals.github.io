import{a as r}from"./index.BuhxyU7C.js";var $=typeof window>"u",p=$?r.useEffect:r.useLayoutEffect,g=0,_=()=>++g,h=!1;function E(){let[t,a]=r.useState(h?_:void 0);return p(()=>{t===void 0&&a(_()),h=!0},[]),t===void 0?t:`rwb-${t.toString(32)}`}function W(){return r.useMemo(()=>"useId"in r?r.useId:E,[])()}var v="__wrap_b",d="__wrap_n",b="__wrap_o",y=(t,a,e)=>{e=e||document.querySelector(`[data-br="${t}"]`);let l=e?.parentElement;if(!l)return;let f=s=>e.style.maxWidth=s+"px";e.style.maxWidth="";let u=l.clientWidth,c=l.clientHeight,o=u/2-.25,n=u+.5,i;if(u){for(f(o),o=Math.max(e.scrollWidth,o);o+1<n;)i=Math.round((o+n)/2),f(i),l.clientHeight===c?n=i:o=i;f(n*a+u*(1-a))}e.__wrap_o||typeof ResizeObserver<"u"&&(e.__wrap_o=new ResizeObserver(()=>{self.__wrap_b(0,+e.dataset.brr,e)})).observe(l)},H=y.toString(),M='(self.CSS&&CSS.supports("text-wrap","balance")?1:2)',w=(t,a,e="")=>(e&&(e=`self.${d}!=1&&${e}`),r.createElement("script",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:(t?"":`self.${d}=self.${d}||${M};self.${v}=${H};`)+e},nonce:a})),x=r.createContext({preferNative:!0,hasProvider:!1}),I=({preferNative:t=!0,nonce:a,children:e})=>{let l=r.useMemo(()=>({preferNative:t,hasProvider:!0}),[t]);return r.createElement(x.Provider,{value:l},w(!1,a),e)};r.forwardRef(({ratio:t=1,preferNative:a,nonce:e,children:l,as:f,...u},c)=>{let o=W(),n=r.useRef(),i=r.useContext(x),s=a??i.preferNative,S=f||"span";return r.useImperativeHandle(c,()=>n.current,[]),p(()=>{s&&self[d]===1||n.current&&(self[v]=y)(0,t,n.current)},[l,s,t]),p(()=>{if(!(s&&self[d]===1))return()=>{if(!n.current)return;let m=n.current[b];m&&(m.disconnect(),delete n.current[b])}},[s]),r.createElement(r.Fragment,null,r.createElement(S,{...u,"data-br":o,"data-brr":t,ref:n,style:{display:"inline-block",verticalAlign:"top",textDecoration:"inherit",textWrap:s?"balance":"initial"},suppressHydrationWarning:!0},l),w(i.hasProvider,e,`self.${v}("${o}",${t})`))});export{I as Provider};
