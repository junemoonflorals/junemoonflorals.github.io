import{j as e}from"./jsx-runtime.chL-vPbI.js";import{_ as v,L as b}from"./image.BqUlnMk4.js";import{r}from"./index.l2PZgWEW.js";import{R as L}from"./index.dNPklUqc.js";import{c as k}from"./createLucideIcon.CpY7988V.js";import{L as N}from"./loader-circle.CSW4RjiQ.js";import"./cn._qghvgfj.js";import"./hooks.OpbJ1G-A.js";import"./index.Bm7yMb5A.js";import"./index.DY16rmGi.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=k("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function B({location:u,items:x}){const o=r.useRef(null),[n,l]=r.useState(1),[a,p]=r.useState(!0),[m,h]=r.useState(2),[d,c]=r.useState(1),[f]=r.useState(v.shuffle(x)),g=r.useCallback(()=>{history.back()},[]),w=r.useMemo(()=>{const s=[];for(let t=0;t<n;t++)s.push([]);return f.slice(0,m*d).forEach((t,i)=>{const j=i%n;s[j].push(e.jsx("div",{children:e.jsx(L,{ratio:360/436,children:e.jsx(b,{item:t,showLabel:!1})})},t._id))}),s.map((t,i)=>e.jsx("div",{className:"grid w-full max-w-lg gap-8 self-start md:max-w-full md:gap-12",children:t},i))},[f,m,d,n]);return r.useEffect(()=>{const s=new IntersectionObserver(([t])=>{t.isIntersecting&&!a&&h(i=>i+1)},{root:null,rootMargin:"0px",threshold:1});return o.current&&s.observe(o.current),()=>{o.current&&s.unobserve(o.current)}},[a]),r.useEffect(()=>{function s(){const t=window.matchMedia("(min-width: 1024px)").matches,i=window.matchMedia("(min-width: 768px)").matches;switch(!0){case t:l(3),c(3);break;case i:l(2),c(2);break;default:l(1),c(1);break}}return s(),p(!1),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),e.jsxs("section",{className:"w-full bg-accent px-4 py-16 text-accent-foreground md:px-8 md:py-24 lg:px-10",children:[e.jsxs("div",{className:"mx-auto flex w-full max-w-screen-2xl flex-col items-center gap-8 md:items-end",children:[e.jsxs("div",{className:"flex h-fit w-full max-w-lg shrink-0 flex-col items-start gap-4 overflow-hidden md:max-w-full md:flex-row md:items-center",children:[e.jsx("button",{onClick:g,className:"group inline-flex h-10 w-10 items-center justify-end bg-transparent focus-visible:outline-none",children:e.jsx(y,{className:"h-8 w-8 transition-transform group-hover:-translate-x-2 group-focus-visible:-translate-x-2"})}),e.jsx("h1",{className:"h-20 font-serif text-6xl leading-normal tracking-tight lg:text-7xl",children:u.location})]}),!a&&e.jsx("div",{className:"grid w-full grid-cols-1 place-items-center gap-8 md:grid-cols-2 lg:grid-cols-3",children:w}),a&&e.jsx("div",{className:"flex w-full items-center justify-center pt-16",children:e.jsx(N,{className:"h-4 w-4 animate-spin"})})]}),e.jsx("div",{ref:o})]})}export{B as PortfolioLocation};
