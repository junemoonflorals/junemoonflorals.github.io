import{j as e}from"./jsx-runtime.chL-vPbI.js";import{C as i,A as g}from"./carousel.BAvNwErk.js";import{r}from"./index.l2PZgWEW.js";import{u as h}from"./hooks.dxSt24C1.js";import{L as b}from"./loader-circle.CSW4RjiQ.js";import"./cn._qghvgfj.js";import"./createLucideIcon.CpY7988V.js";function j({src:l,skeleton:s=!1}){const t=r.useRef(null),[u,f]=r.useState(480),[o,m]=r.useState(!1),[a,c]=r.useState(!1),d=h(u,1e3),p=r.useCallback(()=>{m(!1)},[]);return r.useEffect(()=>{c(!0)},[]),r.useEffect(()=>{const n=new IntersectionObserver(([x])=>{x.isIntersecting&&(c(!0),t.current&&n.unobserve(t.current))},{root:null,rootMargin:"0px",threshold:.1});return t.current&&n.observe(t.current),()=>{t.current&&n.unobserve(t.current)}},[]),r.useEffect(()=>{function n(){f(t.current?.clientWidth??4)}return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),e.jsxs("div",{ref:t,className:"relative h-full w-full duration-1000 animate-in fade-in-0",children:[s&&(!a||o)&&e.jsx("div",{className:"absolute inset-0 z-0 flex h-full w-full animate-pulse items-center justify-center bg-dark/50",children:e.jsx(b,{className:"h-4 w-4 animate-spin"})}),!s&&(!a||o)&&e.jsx("img",{draggable:"false",src:`${l}?blur=50&w=8&h=8`,className:"absolute z-0 h-full w-full select-none object-cover object-center"}),a&&e.jsx("div",{className:"group relative z-0 flex h-full w-full items-center justify-center",children:e.jsx("img",{loading:"lazy",decoding:"async",draggable:"false",onLoad:p,src:`${l}${s?"":`?w=${d}`}`,className:"relative z-0 h-full w-full select-none object-cover object-center transition-all"})})]})}const v="https://www.instagram.com/junemoonflorals";function I({media:l}){return e.jsx("section",{className:"w-full overflow-hidden",children:e.jsx("div",{className:"mx-auto flex h-full w-full items-center justify-center",children:e.jsx(i.Root,{className:"w-full max-w-full",plugins:[g({delay:5e3})],opts:{align:"center",loop:!0},children:e.jsx(i.Content,{children:l.map(s=>e.jsx(i.Item,{className:"basis-auto pl-0",children:e.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:s.permalink?s.permalink:v,className:"group relative inline-flex select-none items-center justify-center focus-visible:outline-none",children:[e.jsx("span",{className:"absolute inset-0 z-10 inline-flex items-center justify-center bg-black/50 font-serif text-2xl uppercase tracking-normal text-dark-foreground opacity-0 transition-all group-hover:opacity-100 group-focus-visible:opacity-100",children:"View on Instagram"}),e.jsx("div",{className:"aspect-square w-[360px]",children:e.jsx(j,{src:s.url,skeleton:!0})})]})},s.id))})})})})}export{I as LandingInstagram};
