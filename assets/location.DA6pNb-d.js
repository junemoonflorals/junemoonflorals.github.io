import{j as e}from"./cn.OipofWVx.js";import{_ as v,R as b,L,a as k}from"./image.B3W-BZb5.js";import{r}from"./index.l2PZgWEW.js";import{c as N}from"./index.CwxzPD9w.js";import"./index.DY16rmGi.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=N("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function I({location:f,items:x}){const i=r.useRef(null),[o,c]=r.useState(1),[n,h]=r.useState(!0),[d,p]=r.useState(2),[u,l]=r.useState(1),[m]=r.useState(v.shuffle(x)),g=r.useCallback(()=>{history.back()},[]),w=r.useMemo(()=>{const t=[];for(let s=0;s<o;s++)t.push([]);return m.slice(0,d*u).forEach((s,a)=>{const j=a%o;t[j].push(e.jsx("div",{children:e.jsx(b,{ratio:360/436,children:e.jsx(L,{item:s,showLabel:!1})})},s._id))}),t.map((s,a)=>e.jsx("div",{className:"grid w-full max-w-lg gap-8 self-start md:max-w-full md:gap-12",children:s},a))},[m,d,u,o]);return r.useEffect(()=>{const t=new IntersectionObserver(([s])=>{s.isIntersecting&&!n&&p(a=>a+1)},{root:null,rootMargin:"0px",threshold:1});return i.current&&t.observe(i.current),()=>{i.current&&t.unobserve(i.current)}},[n]),r.useEffect(()=>{function t(){const s=window.matchMedia("(min-width: 1024px)").matches,a=window.matchMedia("(min-width: 768px)").matches;switch(!0){case s:c(3),l(3);break;case a:c(2),l(2);break;default:c(1),l(1);break}}return t(),h(!1),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),e.jsxs("section",{className:"w-full bg-accent px-4 py-16 text-accent-foreground md:px-8 md:py-24 lg:px-10",children:[e.jsxs("div",{className:"mx-auto flex w-full max-w-screen-2xl flex-col items-center gap-8 md:items-end",children:[e.jsxs("div",{className:"flex w-full items-center gap-4 overflow-hidden",children:[e.jsx("button",{onClick:g,className:"group inline-flex h-10 w-10 items-center justify-end bg-transparent focus-visible:outline-none",children:e.jsx(y,{className:"h-8 w-8 transition-transform group-hover:-translate-x-2 group-focus-visible:-translate-x-2"})}),e.jsx("h1",{className:"font-serif text-6xl tracking-tight lg:text-7xl",children:f.location})]}),!n&&e.jsx("div",{className:"grid w-full grid-cols-1 place-items-center gap-8 md:grid-cols-2 lg:grid-cols-3",children:w}),n&&e.jsx("div",{className:"flex w-full items-center justify-center pt-16",children:e.jsx(k,{className:"h-4 w-4 animate-spin"})})]}),e.jsx("div",{ref:i})]})}export{I as PortfolioLocation};
